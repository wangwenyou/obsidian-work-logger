/*
 * Work Logger - Refined & Minimal Style Overhaul
 *
 * This stylesheet implements a soft, modern, and clean aesthetic
 * with a focus on whitespace, typography, and subtle indicators.
 */

:root {
    /* Muted accent colors for a calmer UI */
    --wl-accent-color: var(--interactive-accent, #8cb4f5); /* A softer blue */
    --wl-text-on-accent: #fff;
    --wl-background-primary: var(--background-primary, #ffffff);
    --wl-background-secondary: var(--background-secondary, #f7f7f7);
    --wl-border-color: var(--background-modifier-border, #e0e0e0);
    --wl-text-normal: var(--text-normal, #2e2e2e);
    --wl-text-muted: var(--text-muted, #999999);
    --wl-text-faint: var(--text-faint, #cccccc);

    /* Consistent spacing and radiuses */
    --wl-radius: 6px;
    --wl-spacing: 12px;
    --wl-transition: 180ms ease-out;
}

/* Use a slightly different color scheme in dark mode */
.theme-dark {
    --wl-accent-color: var(--interactive-accent, #4a75b6);
    --wl-background-primary: var(--background-primary, #202020);
    --wl-background-secondary: var(--background-secondary, #2a2a2a);
    --wl-border-color: var(--background-modifier-border, #3a3a3a);
    --wl-text-normal: var(--text-normal, #dddddd);
    --wl-text-muted: var(--text-muted, #9e9e9e);
    --wl-text-faint: var(--text-faint, #555555);
}

.work-logger-container {
    padding: var(--wl-spacing);
    font-family: var(--font-interface);
    height: 100%;
    display: flex;
    flex-direction: column;
    background-color: var(--wl-background-primary);
}

/* Header */
.calendar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-bottom: var(--wl-spacing);
}

.calendar-header h3 {
    margin: 0;
    font-size: 1.1em;
    font-weight: 500;
    color: var(--wl-text-normal);
}

.calendar-header button {
    background: transparent;
    border: none;
    color: var(--wl-text-muted);
    border-radius: var(--wl-radius);
    padding: 6px;
    cursor: pointer;
    transition: var(--wl-transition);
}
.calendar-header button:hover {
    background: var(--background-modifier-hover);
    color: var(--wl-text-normal);
}

/* Calendar Grid */
.calendar-grid {
    display: grid;
    grid-template-columns: 40px repeat(7, 1fr); /* Slightly wider week stat column */
    flex-grow: 1;
    border-top: 1px solid var(--wl-border-color);
    border-left: 1px solid var(--wl-border-color);
}

.day-header {
    color: var(--wl-text-muted);
    text-align: center;
    font-weight: 500;
    font-size: 0.75em;
    padding: 10px 0;
    border-right: 1px solid var(--wl-border-color);
    border-bottom: 1px solid var(--wl-border-color);
}

/* Week Stat Button */
.week-stat-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: var(--wl-text-faint);
    border-right: 1px solid var(--wl-border-color);
    border-bottom: 1px solid var(--wl-border-color);
    opacity: 0; /* Hidden by default */
    transition: var(--wl-transition);
}

.calendar-grid:hover .week-stat-btn {
    opacity: 0.4; /* Appear on grid hover */
}

.week-stat-btn:hover {
    background-color: var(--background-modifier-hover);
    opacity: 1;
    color: var(--wl-accent-color);
}
.week-stat-btn svg { width: 14px; height: 14px; }


/* Day Cell */
.day-cell {
    position: relative;
    cursor: pointer;
    transition: background-color var(--wl-transition);
    border-right: 1px solid var(--wl-border-color);
    border-bottom: 1px solid var(--wl-border-color);
    padding: 8px;

    /* Use flex to position content top and bottom */
    display: flex;
    flex-direction: column;
    justify-content: space-between; 
    align-items: center;
    gap: 8px;
}

.day-cell:hover {
    background-color: var(--background-modifier-hover);
}

.day-cell.other-month {
    pointer-events: none; /* Non-clickable */
}

.day-cell.other-month .day-number span {
    color: var(--wl-text-faint);
}

/* Day Number & "Today" Marker */
.day-number {
    font-weight: 400; /* Lighter font weight */
    font-size: 0.9em;
    color: var(--wl-text-normal);
    width: 26px;
    height: 26px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: var(--wl-transition);
    z-index: 1;
}

.day-cell.today .day-number {
    background-color: var(--wl-accent-color);
    color: var(--wl-text-on-accent);
    font-weight: 600;
}

/* Markers Container & Individual Markers */
.markers {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 4px; /* Space between multiple markers */
    min-height: 16px; /* Reserve space to prevent layout shifts */
}

.marker {
    opacity: 0;
    transform: scale(0.5);
    transition: all var(--wl-transition);
}

.day-cell.has-data .marker {
    opacity: 1;
    transform: scale(1);
}

/* Default checkmark style, now perfectly centered */
.marker.task-check {
    color: var(--wl-accent-color);
}
.marker.task-check svg {
    width: 16px;
    height: 16px;
    display: block; /* Fix for small alignment issues */
}

/* Foundation for future multi-marker support */
.marker.dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
}
.marker.dot.diary { background-color: #6a9a6a; } /* Pale green */
.marker.dot.review { background-color: #d1a865; } /* Pale yellow */

/* ---- Modal styles can remain the same, they are already quite clean ---- */
.stat-table,.modal-header-flex,.modal-actions,.ai-summary-container,.ai-loading,
.ai-summary-container h1, .ai-summary-container h2, .ai-summary-container h3,
.ai-summary-container ul, .ai-summary-container ol, .ai-summary-container li,
.ai-summary-container p, @keyframes pulse {
    /* Using previous good styles */
    /* ... If needed, specific overrides can be added here ... */
}